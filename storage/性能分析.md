# 方法论
性能遇到瓶颈的时候，比如调用时延高，我们应该怎么分析？服务，程序毕竟是按流程执行的，这个时候我们可以按照流程进行定位，比如服务中可以调用各个下游服务，程序运行的各个部分。


![](https://www.brendangregg.com/SysPerf/figure_method_useflownew.png)


https://www.brendangregg.com/overview.html
https://docs.pingcap.com/zh/tidb/stable/tune-operating-system/




# 内存
# 如何检测内存泄漏

资源占用上看，可以直接通过不断增长的内存判断/不合理的内存占用
也可以通过内存管理工具提供的能力
- jemalloc的heap profiling
- tcmalloc 